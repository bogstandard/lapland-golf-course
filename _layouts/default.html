<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">
  <head>
    <meta charset='utf-8'>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}">
    <link rel="stylesheet" type="text/css" href="{{ '/assets/css/print.css' | relative_url }}" media="print">
    <title>{{ page.title | default: site.title | default: site.github.repository_name }}</title>
  </head>

  <body>
    <div id="container" class="ag-snow">
      <div class="inner">

        <header class="sr-only">
          <h1>{{ page.title | default: site.title | default: site.github.repository_name }}</h1>
          <h2>{{ page.description | default: site.description | default: site.github.project_tagline }}</h2>
        </header>

        <section id="downloads" class="clearfix">
          {% if site.show_downloads %}
          <a href="{{ site.github.zip_url }}" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="{{ site.github.tar_url }}" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          {% endif %}
	{% if site.github.public %}
	  {% if site.github.is_project_page %}
          <a href="{{ site.github.repository_url }}" id="view-on-github" class="button"><span>View on GitHub</span></a>
	  {% else %}
          <a href="{{ site.github.owner_url }}" id="view-on-github" class="button"><span>View on GitHub</span></a>
	  {% endif %}
	{% endif %}
        </section>

        <hr class="sr-only">

        <section id="main_content">
          {{ content }}
        </section>

        <footer>
        {% if site.github.is_project_page %}
          {{ site.title | default: site.github.repository_name }} is maintained by <a href="{{ site.github.owner_url }}">{{ site.github.owner_name }}</a><br>
        {% endif %}
          This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

      </div>
    </div>

    <script>
      const players = document.querySelectorAll('span.gs').forEach((el) => {
        let split = el.textContent.trim().split(' ');
        const isPlayer = split.length === 2 && split[0] === '!';

        if (isPlayer) {
          let link = document.createElement('a');
          link.classList.add('lpgc-player');
          link.href = `{{ site.github.repository_url }}/tree/main/${split[1]}`;
          link.textContent = el.textContent;
          el.replaceWith(link);
        }
      });

      const githubs = document.querySelectorAll('span.p').forEach((el) => {
        let split = el.textContent.trim().split(' @ ');
        const isGithub= split.length === 2 && split[0] === 'Github';

        if (isGithub) {
          let img = document.createElement('img');
          img.classList.add('lpgc-avatar');
          img.src = `https://github.com/${split[1].trim()}.png?size=200`;
          img.onload = function(){
            el.replaceWith(img);
          }
        }
      });
    </script>

  </body>
</html>
